<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css">
</head>

<body>

    <input type="checkbox" name="" id="check">
    <div class="menu">
        <label for="check" id="label" style="
        margin-bottom: 0px;">
            <span class="fas fa-times" id="times"></span>
            <span class="fas fa-bars" id="bars"></span>
        </label>
        <div class="head">Meny</div>
        <ol>
            <li class="nav"><a href="/home" class="tab"><i class="fas fa-home"></i>Hjem</a></li>
            <li class="nav" id="adminTab"><a href="/admin" class="tab"><i class="fas fa-user-cog"></i>Admin</a></li>
            <li class="nav"><a href="/logout" class="tab"><i class="fas fa-door-open"></i>Logg Ut</a></li>
        </ol>
    </div>
    <br>
    <h1>Velkommen til Nydalen VGS</h1>
    <br>
    <form>
        <p><strong>Brukernavn:</strong> <div id="username"></div></p>
        <p><strong>Fornavn:</strong> <div id="firstName"></div></p>
        <p><strong>Etternavn:</strong> <div id="lastName"></div></p>
        <p><strong>Rolle:</strong> <div id="role"></div></p>
    </form>
    <form class="hide">
        <p><strong>Id:</strong> <div id="userId"></div></p>
    </form>

    <h1>Work in progressüõ†Ô∏è</h1>
    <div class="cog">
        <div class="main">
            <div class="wrapper">
                <div class="gear">
                    <span style="--i:1"></span>
                    <span style="--i:2"></span>
                    <span style="--i:3"></span>
                    <span style="--i:4"></span>
                    <span style="--i:5"></span>
                    <span style="--i:6"></span>
                </div>
            </div>
            <div class="wrapper wrapper2">
                <div class="gear">
                    <span style="--i:1"></span>
                    <span style="--i:2"></span>
                    <span style="--i:3"></span>
                    <span style="--i:4"></span>
                    <span style="--i:5"></span>
                    <span style="--i:6"></span>
                </div>
            </div>
        </div>
    </div>
    <!--<div style="float:right">
        <button onclick="toggleDarkMode()">Dark Mode</button>

    <script>
        function toggleDarkMode() {
            var body = document.body;
            body.classList.toggle("dark-mode");
        }
    </script>
        <footer>
            <p>&copy; 2024 Min Portef√∏lje</p>
        </footer>
</div>-->
<script src="js/project.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
    const adminTab = document.getElementById('adminTab'); // Use getElementById to find the element

    if (adminTab) {
        // Make an API call to fetch the current user's role
        fetch('/currentUser')
            .then(response => response.json())
            .then(data => {
                const userRole = data[2]; // Assuming the role is at index 2 in the response array
                if (userRole !== 'admin') {
                    // Hide the admin tab if the user is not an admin
                    adminTab.style.display = 'none';
                }
            })
            .catch(error => console.error('Error fetching current user:', error));
    } else {
        console.error('Admin tab element not found.');
    }
});
</script>
</body>
</html>
